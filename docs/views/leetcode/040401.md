---
title: 链表中倒数第k个节点
date: 2021-04-04
categories:
 - LeetCode
author: 青菜白玉汤
---
## 题目
[这里](https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)
输入一个链表，输出该链表中倒数第k个节点

## 解决方案
第一种：先得到链表长度n，再走 n - k步

第二种：双指针，快指针先走k步，然后双指针一起移动，最后慢指针就是结果

```javascript
var getKthFromEnd = function(head, k) {
    let fast = head, slow = head, i = -1;
    while(++i < k && fast>) {
      fast = fast.next;
    }
    while(fast && i === k) {
        slow = slow.next;
        fast = fast.next;
    }
    return slow;
};
```

## 涉及数据结构-链表

```javascript
class SingleLinkNode {
  constructor(val) {
    this.val = val
    this.next = null
  }
}
class SingleLink {
  constructor() {
    this.head = null
  }
  delete(targetV) {}
  insertAt(val, pos)
}

class DoublyLinkNode {
  constructor(val) {
    this.val = val
    this.next = null
    this.pre = null
  }
}
class DoublyLinkList {
  constructor() {
    this.head = null
  }
  push(val) {}
}
```

### 单链表

删除：删除第一个元素和删除除了第一个元素外两种情况
```javascript
function delete(targetV) {
  if (this.head.val === targetV) {
    this.head = this.head.next;
  } else {
    let pre = this.head;
    let cur = this.head.next;
    while(cur && cur.val !== targetV) {
      pre = cur
      cur = cur.next
    }
    pre.next = cur.next
  }
}
```

插入
```javascript
function insertAt(val, pos) {
  if (pos === 0) {
    const newNode = new SingleLinkNode(val)
    newNode.next = this.head
    this.head = newNode
  } else if (pos > 0) {
    let p = this.head
    let i = 0
    while(p.next && i < pos) p = p.next
    p.next = new SingleLinkNode(val)
  }
}
```

### 双向链表

```javascript
function push(val) {
  if (this.head === null) {
    this.head = new DoublyLinkNode(val)
  } else {
    let p = this.head
    while(p.next) p = p.next
    const newNode = new DoublyLinkNode(val)
    newNode.pre = p
    p.next = newNode
  }
}

function delete(val) {
  if (this.head.val === val) {
    this.head = this.head.next
    this.head.pre = null
  } else {
    let p = this.head, cur = this.head.next
    while(cur && cur.val !== val) {
      p = cur
      cur = cur.next
    }
    if (cur) {
      p.next = cur.next
      cur.next.pre = p
    }
  }
}
```
