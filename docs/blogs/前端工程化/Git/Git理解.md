---
title: Git的概念及使用
date: 2021-04-23
categories:
 - 前端工程化
author: 青菜白玉汤
tags:
 - Git
---

## 概念
Git全名叫分布式版本控制系统

它是分布式的原因在于它有个一个本地库的概念，这个本地库是建立在本地计算机上的，无论该计算机联不联网都能使用该本地库。提交的时候就将保存在本地库的代码提交到项目的仓库中。每个人电脑上的本地库都是一个完整的版本库，提交到版本库的时候，只是提交到自己的电脑上，毫不影响到其他人。

重要概念
1. 工作区
2. 暂存区
3. 版本库
4. Git对象

## .git目录
```
|-- hooks文件夹             # 系统默认的钩子脚本目录
|-- logs文件夹              # 各refs的历史信息
|-- objects文件夹           # 本地库的所有对象（commits、trees、blobs、tags）
|-- refs文件夹              # 标识每个分支指向了哪个提交（commit）
|-- config                  # 项目的配置信息，git config命令修改
|-- description             # 项目的描述信息
|-- HEAD                    # 记录当前出于哪个分支(内容: ref: refs/heads/master)，可以理解为头指针
|-- index                   # 索引文件（存放暂存区的相关信息，暂存的文件名、文件内容的哈希串等等）
```

**objects目录**

真正的仓库，所有文件、代码、库文件和图片等都会变成git对象存在这个目录下

**refs目录**
保存一下纯文本文件，记录着本地分支和远程分支的SHA哈希值
refs
├── heads
│ ├── develop   # 记录本地develop分支的SHA哈希值
│ └── master    # 记录本地master分支的SHA哈希值
├── remotes
│ └── origin
│ ├── develop   # 记录远程版本库develop分支的SHA哈希值
│ └── master    # 记录远程版本库master分支的SHA哈希值
└── tags
└── v1.0        # 记录标签V1.0的SHA哈希值

git就是通过HEAD文件里refs/heads/master和refs目录下的heads目录来判断当前分支以及分支的最新提交

**logs目录**
保存HEAD和refs文件内容的历史变化，`git reflog`命令就是显示这里的文件内容


## Git对象
Git对象有四种类型：blob、tree、commit和tag

blob 用来存储文件数据，通常是一个文件

tree 和目录相似

commit 一个commit指向一个tree，用来标记项目某个特定时间点的状态

tag 用来标记一个commit

每一个项目都会有一个40个字符的对象名。git通过比较对象名，就可以很快地判断两个对象是否相同，如果相同的内容存在两个仓库中，就会存在相同的“对象名”，节省空间，因为每个仓库的对象名的计算方法都是一样的。这个理念同样用在git对象中，如果两个文件在同一个目录中有相同的数据内容，那么就会共享同一个git对象


## 文件所在区域
::: tip
工作区
:::
我们平时开发所在的区域就是工作区，这里放着一些尚未add的文件。

::: tip
暂存区
:::
可以理解为缓存区，是保存git add之后的文件内容。保存在`.git/index`文件里。

使用`git status`命令时，会根据`.git/index`文件里保存的时间戳、文件长度等信息，然后根据这些信息于工作区的文件进行比对，如果有变化，才去比对内容。这个就是git高效的因素之一。


::: tip
版本库
:::
保存commit之后文件内容

## git命令
[跳转](git命令.md)