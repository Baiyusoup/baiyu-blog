---
title: webpack原理
date: 2020-04-26
categories:
 - 前端工程化
author: 青菜白玉汤
tags:
 - webpack
---

webpack的核心是Tapable事件流机制，通过这个事件流机制，保证插件的有序性。

初始化参数：从配置文件和shell语句中读取和合并参数

开始编译：利用得到的参数处理化Compiler对象，加载所有配置的插件，执行对象的run方法，开始执行编译

确定入口：根据配置对象的entry找到入口文件

编译模块：从入口文件开始，调用相应的loader对模块进行翻译，找出这个模块依赖的模块，再递归处理，知道所有入口模块依赖的文件都经过了处理。

完成模块编译：在经过翻译之后，得到每个模块被翻译后的最终内容以及它们之间的依赖关系。

输出资源：根据入口和模块的之间的依赖关系，组装成一个个包含多个模块的chunk，再把每个chunk转换成一个单独的文件加入到输出列表。

输出完成：确定好输出内容后，根据配置确定输出的路径和文件名，把文件内容写入文件系统。